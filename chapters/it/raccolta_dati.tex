\chapter{Raccolta dati dei parcheggi}
\section{Procedura} 

\subsection{Raccolta}
Al fine di poter creare un classificatore per i tipi di parcheggio, la prima cosa
che è risultata necessaria è stata una raccolta di dati d natura time-series. In particolare, questi dati
dovevano essere di buona qualità, generati in maniera controllata e avere una chiara
classificazione che gli permetta di essere utilizzabili per un processo di training. 
Per questo motivo è stato importante che la raccolta fosse portata
avanti da poche persone fidate che fossero in grado di eseguire una serie di azioni
commettendo il minor numero di errori possibile.\\
Dal momento che il modello classificatore in questione è destinato ad essere utilizzato
su applicativi mobile, e più in particolare sull'app GeneroCity, i dati che quest'ultimo
riceve come input devono provenire da sensori che si trovano direttamente sullo smartphone.
Così facendo, la modalità più ovvia di raccolta dei dati risulta essere esattamente 
quella di sfruttare gli stessi sensori dello smartphone.\\
Coloro che hanno avuto il compito di raccogliere i dati, erano disposti di un sistema di
raccoglimento installato all'interno dell'app GeneroCity. Inizialmente, questo era presente
solo nella versione iOS dell'app, ma successivamente, è stato fatto il porting anche sulla
versione Android. Questa operazione ha reso possibile che il numero di persone dedicate alla
raccolta di dati aumentasse significativamente.\\
Sfruttando alcuni eventi generati automaticamente dall'app, come ad esempio l'ingresso e
l'uscita dall'auto, è stato possibile avviare e interrompere la raccolta, senza troppa
pressione o attenzione dell'utente. Quindi l'interazione da parte dell'utente,
durante il percorso in auto, è stata minima, se non inesistente. Il processo prevedeva soltanto
che l'utente entrasse in macchina, facesse il suo viaggio e infine uscisse. Nel frattempo 
l'app si occupava di raccogliere i dati e caricarli su un database in automatico. In questo
modo, non solo le persone addette alla raccolta non hanno dovuto avere troppe accortezze, ma
inoltre hanno potuto integrare la raccolta con le loro abitudini quotidiane, senza dover
dedicare tempo e sforzi extra solemente per questo scopo. Infatti, qualvolta essi hanno
utilizzato l'auto nella loro vita quotidiana, hanno potuto aggiungere una, o più registrazioni
al database. \\
Anche per quanto riguarda la classificazione del tipo di parcheggio, si è cercato un approccio
che semplificasse l'operazione a chi la stava eseguendo. La modalità che è sembrata meno 
invasiva è stata quella di inviare una notifica a colui che avesse appena effettuato un
parcheggio, chiedendo di cliccare su un pulsante che classificasse il tipo di parcheggio, 
distinguendo qualche opzione. Questa informazione veniva poi salvata insieme alla registrazione
dei sensori, all'interno del database. Si può notare che, anche in questo caso, l'interazione
dell'utente è stata minima. Infatti, la notifica veniva mostrata ad esso in maniera automatica,
dopo qualche secondo dall'uscita dalla macchina e chiaramente l'utente stesso aveva la possibilità
di effettuare la scelta del tipo di parcheggio in un secondo momento.\\
L'importanza di affidare questa responsabilità ad utenti fidati è dovuta principalmente al fatto
che selezionare il corretto tipo di parcheggio risulta un operazione cruciale al fine di ottenere
un modello accurato, che sia in grado di effettuare una distinzione chiara tra le diverse tipologie
di parcheggio. Un'utente qualsiasi, invece, potrebbe selezionare un'etichetta errata per svariati
motivi, come un'idea confusa riguardo le diverse tipologie di parcheggi, oppure una scarsa volontà
di collaborazione che potrebbe indurlo a selezionare un tipo randomico. Si può ben intuire che la
selezione di un tipo randomico, tra le varie opzioni proposte, da' un contributo deleterio e quindi
peggiore al caso in cui l'utente non rispondesse proprio alla notifica inviata e quindi non selezionasse
alcun tipo per uno specifico parcheggio. Tuttavia, anche quando ad effettuare l'operazione vi è una
persona che ha ben chiaro come comportarsi, è possibile che degli errori vengano commessi. Infatti,
in alcune situazioni possono sollevarsi diversi dubbi o indecisioni. Potrebbe accadere che un parcheggio
abbia una disposizione inusuale, diversa dalle più comuni e quindi particolarmente complicata da
individuare. Oppure, è possibile che un parcheggio venga effettuato con una manovra molto diversa dalle
più frequenti, per motivi che possono essere dovuti alla condizione del traffico, alla disposizione di
altri veicoli circostanti, allo stile di guida o all'urgenza del guidatore, ecc\dots A causa di questi
motivi, il dataset ottenuto non può essere considerato privo di difetti, ma si è cercato, attraverso
queste accortezze, di ottenere una qualità dei dati migliore possibile.

\subsection{Processamento}

Benchè i dati raccolti si trovassero in buono stato e strutturati in maniera adeguata per 
essere utilizzati con lo scopo di effettuare il training per un modello ML che classificasse
i tipi di parcheggio, essi non potevano essere considerati "puliti" e pronti all'utilizzo.
Tra le diverse cose, essi contenevano informazioni aggiuntive e fuorvianti che avrebbero
peggiorato le performance del classificatore. Un esempio è composto da tutti i dati raccolti
dal momento in cui il parcheggio viene terminato, fino a quando l'app non termina la raccolta,
dopo che l'utente è uscito dall'auto.\\
Addizionalmente alla pulitura iniziale, i dati vanno incontro anche ad un intensa sequenza
di operazioni che cercano di esaltare e isolare le feature più significative che possono
essere analizzate dal classificatore. Una delle operazioni che può essere presa come esempio 
consiste nelle rotazioni 3D che vengono applicate ai dati degli accelerometri e dei giroscopi
per fare in modo che questi ultimi risultino come se fossero stati raccolti con lo smartphone
orientato sempre allo stesso modo rispetto all'auto.\\
Dunque, è stato realizzato uno script in grado di scaricare tutti le registrazioni di dati
presenti nel database e applicarvi queste operazioni per ottenere il risultato finale.
Al termine di ciò i dati sono stati organizzati in un formato accettato in input dal 
modello classificatore.


\section{Sensori utilizzati} Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
\section{Pulitura e processamento dei dati} Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
\section{Modelli ML utilizzati} Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.


% TODO: add Simulation ...